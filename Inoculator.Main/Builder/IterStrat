using System;
using System.Collections.Generic;
public class C {
    public void run() {
        foreach(int i in M(0, 1)) {}
    }
    public IEnumerable<int> M(int j, int k) {
        for(int i = 0; i < j; i++){
            yield return i;
        }
        yield return j;
    }
}
// 1: overwrite target Method:
// create metadata
// create interceptor
// set them in stateMachine object
// 2: overwrite MoveNext()
// to MoveNext__Inoculated()
// add metadata as field
// add interceptor as field
/*
bool MoveNext() {
    if(state == 0) {
        interceptor.OnStart(metadata);
    }
    
    try {
        MoveNext__Inoculated();
    } catch {
        interceptor.OnException(metadata);
    }
    
    if(state == -1) {
            interceptor.OnExit(metadata);
    }
    interceptor.OnSuccess(metadata);
}

*/